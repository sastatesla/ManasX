# ManasX - Enterprise Code Governance & AI Integration Platform

> **Real-time code governance monitoring for modern development teams and AI-powered workflows**

ManasX is an enterprise-grade code governance platform that continuously monitors your codebase for organizational compliance, detects AI-generated code, and provides real-time feedback to development teams and AI coding assistants.

[![npm version](https://badge.fury.io/js/manasx.svg)](https://badge.fury.io/js/manasx)

---

## ğŸš€ What Makes ManasX Different

Unlike traditional linters that focus on syntax, ManasX understands your **organizational context** and helps maintain consistency as your codebase evolves. It's designed for the AI era where code is generated by humans and AI assistants working together.

### âœ¨ Key Differentiators

- **ğŸ§  Pattern Learning**: Automatically learns your codebase's established patterns
- **ğŸ¤– AI Detection & Auditing**: Identifies and applies special rules to AI-generated code  
- **âš¡ Real-time Monitoring**: Continuous governance monitoring, not just PR checks
- **ğŸ”Œ AI Tool Integration**: Feeds organizational context to Cursor, Claude Code CLI, and other AI assistants
- **ğŸ“Š Enterprise Reporting**: Organization-wide compliance dashboards and metrics

---

## ğŸ—ï¸ Core Capabilities

### ğŸ¯ **Continuous Code Governance**
```bash
# Start real-time monitoring
manasx watch src/
# â†’ src/components/Button.js 2 critical, 1 high
# â— eval() usage is prohibited for security reasons :42
# â— Synchronous file operations block the event loop :18
```

- **Real-time violation detection** as you code
- **Clean CLI interface** - only shows what matters
- **Severity-based alerts**: Critical, High, Medium, Low
- **Silent monitoring** for clean files (zero noise)

### ğŸ§  **Organizational Pattern Learning**
```bash
# Learn your codebase patterns
manasx learn src/
# âœ“ Analyzed 847 files, learned 23 patterns
# âœ“ Naming conventions, import styles, architecture patterns detected
```

- **Automatic pattern detection** from existing codebase
- **Naming convention learning** (camelCase, kebab-case, etc.)
- **Import style analysis** (relative vs absolute paths)
- **Architecture pattern recognition** (component structure, file organization)

### ğŸ¤– **AI Code Detection & Auditing**
```bash
# Detect AI-generated code
manasx ai-detect src/ai-component.js
# â—‰ AI-generated code detected (87.3% confidence)
# â— Missing human review comment
# â— No unit tests for AI-generated code
```

- **AI pattern recognition** (GPT, Claude, Copilot signatures)
- **Confidence scoring** with detailed evidence
- **Special auditing rules** for AI-generated code
- **Human review requirements** for critical AI code

### ğŸ¢ **Enterprise Rule Engine**
```json
{
  "rules": {
    "security/require-company-fetch": {
      "severity": "high",
      "message": "Use companyFetch instead of raw fetch",
      "description": "All API calls must use the company fetch wrapper"
    },
    "security/no-eval": {
      "severity": "critical",
      "message": "eval() usage is prohibited",
      "autofix": false
    }
  }
}
```

- **Custom organizational rules** beyond standard linting
- **Contextual enforcement** (company-specific requirements)
- **Exception management** with justification and expiry
- **Configurable severity levels** and auto-fix options

### ğŸ“Š **AI Tool Integration & Context Feeding**
```bash
# MCP server for AI assistants
manasx mcp-server --port 3001
# âœ“ Context server running - AI tools can now access organizational patterns
```

- **Model Context Protocol (MCP)** server for AI tool integration
- **Real-time context feeding** to Cursor, Claude Code CLI
- **Organizational knowledge sharing** with AI assistants
- **Violation history** and compliance insights for AI tools

### ğŸ“ˆ **Enterprise Monitoring & Reporting**
```bash
# Generate compliance dashboard
manasx status
# ğŸ“Š ManasX Governance Dashboard
# ğŸ“ Files Monitored: 1,247
# ğŸš¨ Active Violations: 23 (3 critical, 8 high, 12 medium)
# ğŸ¤– AI Code Detected: 156 files (12.5%)
# â±ï¸ Monitoring Uptime: 2d 14h 32m
```

- **Organization-wide metrics** and compliance scoring
- **Daily violation reports** with trend analysis
- **AI code usage tracking** across teams
- **Team performance dashboards** with actionable insights

---

## ğŸš€ Quick Start

### Installation
```bash
# Install globally for CLI access
npm install -g manasx

# Get started quickly
manasx --help
```

### ğŸ¯ **One-Command Setup** (Recommended)
```bash
# Complete guided setup - learns patterns, configures rules, validates setup
manasx init src/
# ğŸ“š Step 1/4: Learning Codebase Patterns...
# âš™ï¸  Step 2/4: Configuring Organizational Rules...
# ğŸ” Step 3/4: Validating Setup...
# ğŸ‘€ Step 4/4: Ready for Continuous Monitoring!
```

### Manual Setup (Advanced)

#### 1. Learn Your Codebase
```bash
# Analyze existing code to learn organizational patterns
manasx learn src/
# âœ“ Analyzed 847 files
# âœ“ Learned naming conventions: camelCase variables, PascalCase files
# âœ“ Import styles: relative paths with explicit extensions
# âœ“ Architecture patterns: default exports, feature folders
```

#### 2. Configure Rules
```bash
# Initialize organizational rule configuration
manasx rules init
# âœ“ Created manasx-rules.json with enterprise security and performance rules
```

#### 3. Start Comprehensive Monitoring
```bash
# Start real-time monitoring with all features
manasx watch src/
# ğŸ‘€ Starting ManasX Continuous Monitoring
# ğŸ“ Watching: src/
# ğŸ” Monitoring for:
#    â€¢ Pattern drift detection
#    â€¢ Organizational rule violations  
#    â€¢ AI-generated code auditing
#    â€¢ Real-time AI tool integration
# âœ… Monitor started! File changes will be analyzed in real-time.

# Example output when violations detected:
# ğŸ“„ watch-test.js
#    âš ï¸  3 violations found:
#       CRITICAL Line 6: [SECURITY] eval() usage is prohibited for security reasons
#       HIGH Line 10: [SECURITY] Direct innerHTML manipulation can lead to XSS vulnerabilities
#       HIGH Line 16: [PERFORMANCE] Avoid synchronous file operation: readFileSync
```

#### 4. AI Tool Integration
```bash
# Start MCP server for AI coding assistants (Cursor, Claude Code CLI)
manasx mcp-server --port 3001
# âœ“ MCP server running on port 3001
# âœ“ AI tools can now access organizational context
```

---

## ğŸ—ï¸ Enhanced Enterprise Workflow

### **ğŸ¯ Streamlined Setup** (One-time)
```bash
# Single command does everything:
manasx init src/
# âœ… Learns your codebase patterns automatically
# âœ… Creates organizational rule configuration
# âœ… Validates complete setup
# âœ… Ready for continuous monitoring
```

### **ğŸ”„ Daily Development Workflow**
```bash
# Start monitoring (all analyses enabled by default)
manasx watch src/
# Real-time analysis shows:
# ğŸ“Š Compliance scores
# ğŸ¤– AI detection with confidence levels
# ğŸ’¡ Actionable insights
# âš ï¸ Violations categorized by severity
# âœ¨ Smart recommendations
```

**Enhanced Features:**
- **Centralized Logging**: All output through unified logger system
- **Clean Interface**: No duplicate messages, professional formatting
- **Setup Validation**: Checks for missing configuration files
- **Comprehensive Analysis**: Pattern drift + rule violations + AI detection simultaneously
- **Smart Recommendations**: Context-aware suggestions for fixes

### **ğŸ“Š Team Management & Reporting**
```bash
# Comprehensive status dashboard
manasx status
# Organization-wide compliance metrics
# AI code usage tracking across teams
# Historical trend analysis
```

### **ğŸ”§ Advanced Commands**
```bash
# Individual analysis commands
manasx compliance src/     # Full governance audit with enhanced reporting
manasx drift src/file.js   # Pattern drift analysis
manasx ai-detect src/      # AI-generated code detection
```

---

## ğŸ”§ Complete Command Reference

### **ğŸš€ Setup & Initialization**
```bash
manasx init [directory]           # ğŸ¯ Complete guided setup (RECOMMENDED)
  --skip-patterns                 # Skip pattern learning step
  --skip-rules                    # Skip rule configuration step
  --skip-validation              # Skip setup validation step
  --patterns-file <file>         # Custom patterns file name
  --rules-file <file>            # Custom rules file name
```

### **ğŸ‘€ Real-time Monitoring**
```bash
manasx watch [directory]         # Start comprehensive continuous monitoring
  --patterns <file>              # Use custom patterns file
  --rules <file>                 # Use custom rules file
  --no-ai-detection             # Disable AI code detection
  --no-drift-detection          # Disable pattern drift detection  
  --no-rule-checking            # Disable organizational rule checking
  --no-mcp                      # Disable MCP server for AI integration
  --mcp-port <number>           # Custom MCP server port (default: 8765)
```

### **ğŸ“š Pattern Learning**
```bash
manasx learn [directory]         # Learn organizational patterns from codebase
  --output <file>                # Save patterns to custom file
  --max-files <number>          # Limit files to analyze
```

### **ğŸ” Analysis Commands**
```bash
manasx compliance [directory]    # Full governance audit with enhanced reporting
  --rules <file>                 # Use custom rules file
  --patterns <file>              # Use custom patterns file
  --format <format>              # Output format (console|json|html)

manasx drift <files...>          # Check pattern compliance for specific files
  --patterns <file>              # Use custom patterns file
  --threshold <number>           # Compliance threshold (0-1)

manasx ai-detect <files...>      # Detect AI-generated code patterns
  --threshold <number>           # Detection confidence threshold (0-1)

manasx ai-audit <files...>       # Audit AI-generated code against standards
  --patterns <file>              # Use learned patterns file
  --rules <file>                 # Use organizational rules file
```

### **âš™ï¸ Configuration Management**
```bash
manasx rules init               # Initialize organizational rule configuration
  --file <file>                 # Custom configuration file name

manasx rules validate           # Validate rule configuration
  --file <file>                 # Configuration file to validate
```

### **ğŸ“Š Enterprise Monitoring**
```bash
manasx status                   # Show monitoring status and activity dashboard
  --context-log <file>          # Custom context log file
  --format <format>             # Output format (console|json)

manasx mcp-server               # Start Model Context Protocol server for AI tools
  --port <number>               # Server port (default: 3001)
  --context-log <file>          # Context log file
  --patterns <file>             # Patterns file for AI context
  --rules <file>                # Rules file for AI context
```

### **ğŸ”§ Legacy Analysis**
```bash
manasx perf <file>              # Performance analysis (legacy)
manasx debug <file>             # Best practices analysis (legacy)
```

---

## ğŸ“ Enhanced Logging System

ManasX creates organized, readable logs in `.manasx/`:

```
.manasx/
â”œâ”€â”€ context.log                    # Formatted events for AI tools
â”œâ”€â”€ monitor-2025-08-20.log        # Daily monitoring summary
â”œâ”€â”€ violations-2025-08-20.log     # Detailed violation reports
â””â”€â”€ summary.log                   # Current monitoring statistics
```

### **Violation Report Example**
```
====================================================================================================
VIOLATIONS REPORT - 2025-08-20T16:48:07.364Z
FILE: src/components/Button.js
TOTAL VIOLATIONS: 3
====================================================================================================

ğŸ”¥ CRITICAL SEVERITY (1 issues):
--------------------------------------------------
1. eval() usage is prohibited for security reasons
   ğŸ“ Line 42, Column 8
   ğŸ“‹ Rule: security/no-eval (security)

ğŸš¨ HIGH SEVERITY (1 issues):
--------------------------------------------------
1. Synchronous readFileSync detected
   ğŸ“ Line 18, Column 12
   ğŸ“‹ Rule: performance/no-sync-fs (performance)
```

---

## ğŸ¤– AI Tool Integration

### **Cursor Integration**
ManasX automatically provides organizational context to Cursor through the MCP protocol:

```bash
# Start MCP server
manasx mcp-server --port 3001

# Cursor can now access:
# - Learned organizational patterns
# - Current violation status
# - Team coding standards
# - Historical compliance data
```

### **Claude Code CLI Integration**
```bash
# Context is automatically available
# ManasX feeds real-time organizational knowledge to Claude
```

### **Available Context for AI Tools**
- **Organizational Patterns**: Naming conventions, architecture preferences
- **Active Violations**: Current code quality issues
- **Compliance History**: What violations occur frequently
- **Team Standards**: Company-specific rules and requirements

---

## ğŸ“Š Example Terminal Output

### **Clean, Professional Interface**
```bash
$ manasx watch src/

â—¦ Starting ManasX governance monitoring...
âœ“ Watching 1,247 files for governance violations

â†’ src/auth/login.js 1 critical
â— eval() usage is prohibited for security reasons :23

â†’ src/utils/api.js 2 high, 1 medium  
â— Synchronous readFileSync detected :45
â— Direct innerHTML manipulation detected :67

â†’ src/components/Button.js AI 1 low
â—‰ AI-generated code detected (89.2% confidence)
â— Missing human review comment
```

**Key Features:**
- **Silent for clean files** - no noise for good code
- **Minimal output** - only critical information
- **Color-coded severity** - red for critical/high, yellow for medium, blue for low
- **AI detection** - special handling for AI-generated code

---

## ğŸ¢ Enterprise Benefits

### **For Development Teams**
- **Consistent Code Quality**: Automated enforcement of organizational standards
- **AI-Enhanced Productivity**: AI assistants understand your team's patterns
- **Real-time Feedback**: Catch issues immediately, not in PR reviews
- **Reduced Cognitive Load**: Focus on business logic, not style consistency

### **For Engineering Management**
- **Compliance Visibility**: Organization-wide code quality metrics
- **AI Usage Tracking**: Monitor and optimize AI tool adoption
- **Quality Trends**: Track improvements over time
- **Team Performance**: Data-driven insights into code quality

### **For Security Teams**
- **Automated Security Compliance**: Enforce security rules consistently
- **AI Code Auditing**: Special scrutiny for AI-generated security code
- **Violation Tracking**: Complete audit trail of security compliance
- **Policy Enforcement**: Automatically enforce company security policies

---

## ğŸ”’ Privacy & Security

- **Local Processing**: Pattern learning and analysis happens locally
- **Secure API Usage**: Optional GROQ API for advanced analysis only
- **No Code Storage**: Your code is never stored externally
- **Enterprise Ready**: Designed for security-conscious organizations

---

## ğŸ“ˆ Roadmap

- **ğŸ”„ CI/CD Integration**: GitHub Actions, GitLab CI integration
- **ğŸ“Š Advanced Analytics**: ML-powered code quality predictions  
- **ğŸŒ Team Dashboards**: Web-based compliance dashboards
- **ğŸ”Œ More AI Tools**: Expanded AI assistant integrations
- **ğŸ“± Mobile Alerts**: Real-time notifications for critical violations

---

## ğŸ¤ Contributing

We welcome contributions! See our [Contributing Guide](CONTRIBUTING.md) for details.

### **Development Setup**
```bash
git clone https://github.com/yourusername/manasx.git
cd manasx
npm install
npm run dev
```

---

## ğŸ“„ License

MIT License - see [LICENSE](LICENSE) file for details.

---

## ğŸ†˜ Support

- **ğŸ“– Documentation**: [docs.manasx.dev](https://docs.manasx.dev)
- **ğŸ› Issues**: [GitHub Issues](https://github.com/yourusername/manasx/issues)  
- **ğŸ’¬ Discussions**: [GitHub Discussions](https://github.com/yourusername/manasx/discussions)
- **ğŸ“§ Enterprise**: enterprise@manasx.dev

---

**Built for the AI era. Designed for enterprise scale. Optimized for developer happiness.** ğŸš€
